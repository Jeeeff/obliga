(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7761,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let i=(0,r.createContext)(void 0),s={en:{dashboard:"Dashboard",clients:"Clients",obligations:"Obligations",activity:"Activity",reports:"Reports",settings:"Settings",pending:"Pending",submitted:"Submitted",under_review:"Under Review",approved:"Approved",overdue:"Overdue",at_risk:"At Risk",completed:"Completed",total_obligations:"Total Obligations",view_recommendations:"View recommendations",openclaw_insight:"OpenClaw Insight",mark_as_submitted:"Mark as Submitted",approve:"Approve",request_changes:"Request Changes",sign_in:"Sign in",email:"Email",password:"Password",welcome_back:"Welcome back",enter_credentials:"Enter your credentials to access your account",search:"Search...",theme:"Theme",language:"Language",profile:"Profile",workspace:"Workspace",logout:"Log out"},pt:{dashboard:"Painel",clients:"Clientes",obligations:"Obrigações",activity:"Atividade",reports:"Relatórios",settings:"Configurações",pending:"Pendente",submitted:"Enviado",under_review:"Em Análise",approved:"Aprovado",overdue:"Atrasado",at_risk:"Em Risco",completed:"Concluído",total_obligations:"Total de Obrigações",view_recommendations:"Ver recomendações",openclaw_insight:"Insight OpenClaw",mark_as_submitted:"Marcar como Enviado",approve:"Aprovar",request_changes:"Solicitar Alterações",sign_in:"Entrar",email:"E-mail",password:"Senha",welcome_back:"Bem-vindo de volta",enter_credentials:"Insira suas credenciais para acessar sua conta",search:"Buscar...",theme:"Tema",language:"Idioma",profile:"Perfil",workspace:"Espaço de Trabalho",logout:"Sair"}};function o({children:e}){let[o,a]=(0,r.useState)("pt"),[n,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=localStorage.getItem("language");e&&("en"===e||"pt"===e)&&a(e),l(!0)},[]),n)?(0,t.jsx)(i.Provider,{value:{language:o,setLanguage:e=>{a(e),localStorage.setItem("language",e)},t:e=>s[o][e]||e},children:e}):null}function a(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useI18n must be used within an I18nProvider");return e}e.s(["I18nProvider",()=>o,"useI18n",()=>a])},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),i=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)(({color:e="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:n="",children:l,iconNode:c,...u},d)=>(0,t.createElement)("svg",{ref:d,...s,width:i,height:i,stroke:e,strokeWidth:a?24*Number(o)/Number(i):o,className:r("lucide",n),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),a=(e,s)=>{let a=(0,t.forwardRef)(({className:a,...n},l)=>(0,t.createElement)(o,{ref:l,iconNode:s,className:r(`lucide-${i(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...n}));return a.displayName=i(e),a};e.s(["default",()=>a],75254)},88653,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),i=e.i(31178),s=e.i(47414),o=e.i(74008),a=e.i(21476),n=e.i(72846),l=r,c=e.i(37806);function u(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class d extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,r=(0,n.isHTMLElement)(e)&&e.offsetWidth||0,i=(0,n.isHTMLElement)(e)&&e.offsetHeight||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left,s.bottom=i-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:i,anchorX:s,anchorY:o,root:a,pop:n}){let m=(0,l.useId)(),h=(0,l.useRef)(null),p=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=(0,l.useContext)(c.MotionConfigContext),g=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=u(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():u(e[t],null)}}}}(...e),e)}(h,e.props?.ref??e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:l,right:c,bottom:u}=p.current;if(i||!1===n||!h.current||!e||!t)return;let d="left"===s?`left: ${l}`:`right: ${c}`,g="bottom"===o?`bottom: ${u}`:`top: ${r}`;h.current.dataset.motionPopId=m;let v=document.createElement("style");f&&(v.nonce=f);let y=a??document.head;return y.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${m}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            ${g}px !important;
          }
        `),()=>{y.contains(v)&&y.removeChild(v)}},[i]),(0,t.jsx)(d,{isPresent:i,childRef:h,sizeRef:p,pop:n,children:!1===n?e:l.cloneElement(e,{ref:g})})}let h=({children:e,initial:i,isPresent:o,onExitComplete:n,custom:l,presenceAffectsLayout:c,mode:u,anchorX:d,anchorY:h,root:f})=>{let g=(0,s.useConstant)(p),v=(0,r.useId)(),y=!0,w=(0,r.useMemo)(()=>(y=!1,{id:v,initial:i,isPresent:o,custom:l,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;n&&n()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[o,g,n]);return c&&y&&(w={...w}),(0,r.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[o]),r.useEffect(()=>{o||g.size||!n||n()},[o]),e=(0,t.jsx)(m,{pop:"popLayout"===u,isPresent:o,anchorX:d,anchorY:h,root:f,children:e}),(0,t.jsx)(a.PresenceContext.Provider,{value:w,children:e})};function p(){return new Map}var f=e.i(64978);let g=e=>e.key||"";function v(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:a,initial:n=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:u="sync",propagate:d=!1,anchorX:m="left",anchorY:p="top",root:y})=>{let[w,b]=(0,f.usePresence)(d),C=(0,r.useMemo)(()=>v(e),[e]),x=d&&!w?[]:C.map(g),E=(0,r.useRef)(!0),S=(0,r.useRef)(C),k=(0,s.useConstant)(()=>new Map),T=(0,r.useRef)(new Set),[P,A]=(0,r.useState)(C),[_,I]=(0,r.useState)(C);(0,o.useIsomorphicLayoutEffect)(()=>{E.current=!1,S.current=C;for(let e=0;e<_.length;e++){let t=g(_[e]);x.includes(t)?(k.delete(t),T.current.delete(t)):!0!==k.get(t)&&k.set(t,!1)}},[_,x.length,x.join("-")]);let L=[];if(C!==P){let e=[...C];for(let t=0;t<_.length;t++){let r=_[t],i=g(r);x.includes(i)||(e.splice(t,0,r),L.push(r))}return"wait"===u&&L.length&&(e=L),I(v(e)),A(C),null}let{forceRender:j}=(0,r.useContext)(i.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:_.map(e=>{let r=g(e),i=(!d||!!w)&&(C===_||x.includes(r));return(0,t.jsx)(h,{isPresent:i,initial:(!E.current||!!n)&&void 0,custom:a,presenceAffectsLayout:c,mode:u,root:y,onExitComplete:i?void 0:()=>{if(T.current.has(r)||(T.current.add(r),!k.has(r)))return;k.set(r,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(j?.(),I(S.current),d&&b?.(),l&&l())},anchorX:m,anchorY:p,children:e},r)})})};e.s(["AnimatePresence",()=>y],88653)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},54985,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(46932),s=e.i(88653),o=e.i(37727),a=e.i(69638),n=e.i(63209);let l=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),c=(0,r.createContext)(void 0);function u({children:e}){let[u,d]=(0,r.useState)([]);return(0,t.jsxs)(c.Provider,{value:{toast:(e,t="info")=>{let r=Math.random().toString(36).substring(2,9);d(i=>[...i,{id:r,message:e,type:t}]),setTimeout(()=>{d(e=>e.filter(e=>e.id!==r))},3e3)}},children:[e,(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",children:(0,t.jsx)(s.AnimatePresence,{children:u.map(e=>(0,t.jsxs)(i.motion.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.2}},layout:!0,className:"pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg bg-background border text-sm font-medium min-w-[300px]",children:["success"===e.type&&(0,t.jsx)(a.CheckCircle,{className:"h-5 w-5 text-green-500"}),"error"===e.type&&(0,t.jsx)(n.AlertCircle,{className:"h-5 w-5 text-red-500"}),"info"===e.type&&(0,t.jsx)(l,{className:"h-5 w-5 text-blue-500"}),(0,t.jsx)("span",{className:"flex-1",children:e.message}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void d(e=>e.filter(e=>e.id!==t))},className:"text-muted-foreground hover:text-foreground",children:(0,t.jsx)(o.X,{className:"h-4 w-4"})})]},e.id))})})]})}e.s(["ToastProvider",()=>u,"useToast",0,()=>{let e=(0,r.useContext)(c);if(!e)throw Error("useToast must be used within ToastProvider");return e}],54985)},9961,e=>{"use strict";var t=e.i(43476),r=e.i(71645),i=e.i(54858),s=e.i(18566),o=e.i(54985);let a=(0,r.createContext)(void 0);function n({children:e}){let n=(0,s.useRouter)(),{toast:l}=(0,o.useToast)(),[c,u]=(0,r.useState)(null),[d,m]=(0,r.useState)("CLIENT"),[h,p]=(0,r.useState)([]),[f,g]=(0,r.useState)([]),[v,y]=(0,r.useState)([]),[w,b]=(0,r.useState)(!0),C=async()=>{try{let e=await i.api.get("/auth/me");u({id:e.id,name:e.name,email:e.email,avatar:"https://github.com/shadcn.png",role:e.role,workspaceName:e.workspace?.name}),m(e.role)}catch(e){console.error("Failed to fetch user",e)}},x=async()=>{try{let e=(await i.api.get("/obligations")).map(e=>({id:e.id,title:e.title,client:e.client?.name||"Unknown",clientId:e.clientId,type:e.type,dueDate:e.dueDate.split("T")[0],status:e.status,description:e.description}));p(e)}catch(e){console.error("Failed to fetch obligations",e)}},E=async()=>{try{let e=(await i.api.get("/clients")).map(e=>({id:e.id,name:e.name,email:e.email,logo:"/file.svg",status:"Active"}));g(e)}catch(e){console.error("Failed to fetch clients",e)}};(0,r.useEffect)(()=>{(async()=>{localStorage.getItem("accessToken")&&(await C(),await Promise.all([x(),E()])),b(!1)})()},[]);let S=async(e,t)=>{p(r=>r.map(r=>r.id===e?{...r,status:t}:r));try{let r="";"SUBMITTED"===t?r=`/obligations/${e}/submit`:"APPROVED"===t?r=`/obligations/${e}/approve`:"CHANGES_REQUESTED"===t&&(r=`/obligations/${e}/request-changes`),r&&(await i.api.post(r,{}),l("Status updated successfully","success")),await x()}catch(e){console.error("Update failed",e),l("Failed to update status","error"),await x()}};return(0,t.jsx)(a.Provider,{value:{role:d,user:c,obligations:h,clients:f,activities:v,loading:w,logout:()=>{localStorage.removeItem("accessToken"),u(null),p([]),g([]),n.push("/login")},updateObligationStatus:S,refreshObligations:x,addClient:e=>{g(t=>[...t,e])},addActivity:e=>{y(t=>[e,...t])}},children:e})}function l(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useStore must be used within a StoreProvider");return e}e.s(["StoreProvider",()=>n,"useStore",()=>l])},63178,e=>{"use strict";var t=e.i(71645),r=(e,t,r,i,s,o,a,n)=>{let l=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,i=r&&o?s.map(e=>o[e]||e):s;r?(l.classList.remove(...i),l.classList.add(o&&o[t]?o[t]:t)):l.setAttribute(e,t)}),r=t,n&&c.includes(r)&&(l.style.colorScheme=r)}if(i)u(i);else try{let e=localStorage.getItem(t)||r,i=a&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(i)}catch(e){}},i=["light","dark"],s="(prefers-color-scheme: dark)",o="u"<typeof window,a=t.createContext(void 0),n={setTheme:e=>{},themes:[]},l=()=>{var e;return null!=(e=t.useContext(a))?e:n},c=e=>t.useContext(a)?t.createElement(t.Fragment,null,e.children):t.createElement(d,{...e}),u=["light","dark"],d=({forcedTheme:e,disableTransitionOnChange:r=!1,enableSystem:o=!0,enableColorScheme:n=!0,storageKey:l="theme",themes:c=u,defaultTheme:d=o?"system":"light",attribute:g="data-theme",value:v,children:y,nonce:w,scriptProps:b})=>{let[C,x]=t.useState(()=>h(l,d)),[E,S]=t.useState(()=>"system"===C?f():C),k=v?Object.values(v):c,T=t.useCallback(e=>{let t=e;if(!t)return;"system"===e&&o&&(t=f());let s=v?v[t]:t,a=r?p(w):null,l=document.documentElement,c=e=>{"class"===e?(l.classList.remove(...k),s&&l.classList.add(s)):e.startsWith("data-")&&(s?l.setAttribute(e,s):l.removeAttribute(e))};if(Array.isArray(g)?g.forEach(c):c(g),n){let e=i.includes(d)?d:null,r=i.includes(t)?t:e;l.style.colorScheme=r}null==a||a()},[w]),P=t.useCallback(e=>{let t="function"==typeof e?e(C):e;x(t);try{localStorage.setItem(l,t)}catch(e){}},[C]),A=t.useCallback(t=>{S(f(t)),"system"===C&&o&&!e&&T("system")},[C,e]);t.useEffect(()=>{let e=window.matchMedia(s);return e.addListener(A),A(e),()=>e.removeListener(A)},[A]),t.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?x(e.newValue):P(d))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[P]),t.useEffect(()=>{T(null!=e?e:C)},[e,C]);let _=t.useMemo(()=>({theme:C,setTheme:P,forcedTheme:e,resolvedTheme:"system"===C?E:C,themes:o?[...c,"system"]:c,systemTheme:o?E:void 0}),[C,P,e,E,o,c]);return t.createElement(a.Provider,{value:_},t.createElement(m,{forcedTheme:e,storageKey:l,attribute:g,enableSystem:o,enableColorScheme:n,defaultTheme:d,value:v,themes:c,nonce:w,scriptProps:b}),y)},m=t.memo(({forcedTheme:e,storageKey:i,attribute:s,enableSystem:o,enableColorScheme:a,defaultTheme:n,value:l,themes:c,nonce:u,scriptProps:d})=>{let m=JSON.stringify([s,i,n,e,c,l,o,a]).slice(1,-1);return t.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"u"<typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${r.toString()})(${m})`}})}),h=(e,t)=>{let r;if(!o){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},p=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},f=e=>(e||(e=window.matchMedia(s)),e.matches?"dark":"light");e.s(["ThemeProvider",()=>c,"useTheme",()=>l])},89554,e=>{"use strict";var t=e.i(43476),r=e.i(63178);function i({children:e,...i}){return(0,t.jsx)(r.ThemeProvider,{...i,children:e})}e.s(["ThemeProvider",()=>i])}]);
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Dev/obliga/components/theme-provider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\"\n\nexport function ThemeProvider({\n  children,\n  ...props\n}: React.ComponentProps<typeof NextThemesProvider>) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,cAAc,EAC5B,QAAQ,EACR,GAAG,OAC6C;IAChD,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;KALgB"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///D:/Dev/obliga/lib/i18n.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\"\n\ntype Language = \"en\" | \"pt\"\n\ntype I18nContextType = {\n  language: Language\n  setLanguage: (lang: Language) => void\n  t: (key: string) => string\n}\n\nconst I18nContext = createContext<I18nContextType | undefined>(undefined)\n\nconst translations: Record<Language, Record<string, string>> = {\n  en: {\n    // Sidebar\n    dashboard: \"Dashboard\",\n    clients: \"Clients\",\n    obligations: \"Obligations\",\n    activity: \"Activity\",\n    reports: \"Reports\",\n    settings: \"Settings\",\n    \n    // Status\n    pending: \"Pending\",\n    submitted: \"Submitted\",\n    under_review: \"Under Review\",\n    approved: \"Approved\",\n    overdue: \"Overdue\",\n    at_risk: \"At Risk\",\n    completed: \"Completed\",\n    \n    // Dashboard\n    total_obligations: \"Total Obligations\",\n    view_recommendations: \"View recommendations\",\n    openclaw_insight: \"OpenClaw Insight\",\n    \n    // Actions\n    mark_as_submitted: \"Mark as Submitted\",\n    approve: \"Approve\",\n    request_changes: \"Request Changes\",\n    sign_in: \"Sign in\",\n    email: \"Email\",\n    password: \"Password\",\n    welcome_back: \"Welcome back\",\n    enter_credentials: \"Enter your credentials to access your account\",\n    \n    // General\n    search: \"Search...\",\n    theme: \"Theme\",\n    language: \"Language\",\n    profile: \"Profile\",\n    workspace: \"Workspace\",\n    logout: \"Log out\",\n  },\n  pt: {\n    // Sidebar\n    dashboard: \"Painel\",\n    clients: \"Clientes\",\n    obligations: \"Obrigações\",\n    activity: \"Atividade\",\n    reports: \"Relatórios\",\n    settings: \"Configurações\",\n    \n    // Status\n    pending: \"Pendente\",\n    submitted: \"Enviado\",\n    under_review: \"Em Análise\",\n    approved: \"Aprovado\",\n    overdue: \"Atrasado\",\n    at_risk: \"Em Risco\",\n    completed: \"Concluído\",\n    \n    // Dashboard\n    total_obligations: \"Total de Obrigações\",\n    view_recommendations: \"Ver recomendações\",\n    openclaw_insight: \"Insight OpenClaw\",\n    \n    // Actions\n    mark_as_submitted: \"Marcar como Enviado\",\n    approve: \"Aprovar\",\n    request_changes: \"Solicitar Alterações\",\n    sign_in: \"Entrar\",\n    email: \"E-mail\",\n    password: \"Senha\",\n    welcome_back: \"Bem-vindo de volta\",\n    enter_credentials: \"Insira suas credenciais para acessar sua conta\",\n    \n    // General\n    search: \"Buscar...\",\n    theme: \"Tema\",\n    language: \"Idioma\",\n    profile: \"Perfil\",\n    workspace: \"Espaço de Trabalho\",\n    logout: \"Sair\",\n  },\n}\n\nexport function I18nProvider({ children }: { children: React.ReactNode }) {\n  const [language, setLanguageState] = useState<Language>(\"pt\")\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => {\n    const saved = localStorage.getItem(\"language\") as Language\n    if (saved && (saved === \"en\" || saved === \"pt\")) {\n      // eslint-disable-next-line react-hooks/set-state-in-effect\n      setLanguageState(saved)\n    }\n    setMounted(true)\n  }, [])\n\n  const setLanguage = (lang: Language) => {\n    setLanguageState(lang)\n    localStorage.setItem(\"language\", lang)\n  }\n\n  const t = (key: string) => {\n    return translations[language][key] || key\n  }\n\n  if (!mounted) {\n    return null\n  }\n\n  return (\n    <I18nContext.Provider value={{ language, setLanguage, t }}>\n      {children}\n    </I18nContext.Provider>\n  )\n}\n\nexport function useI18n() {\n  const context = useContext(I18nContext)\n  if (context === undefined) {\n    throw new Error(\"useI18n must be used within an I18nProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAYA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAE/D,MAAM,eAAyD;IAC7D,IAAI;QACF,UAAU;QACV,WAAW;QACX,SAAS;QACT,aAAa;QACb,UAAU;QACV,SAAS;QACT,UAAU;QAEV,SAAS;QACT,SAAS;QACT,WAAW;QACX,cAAc;QACd,UAAU;QACV,SAAS;QACT,SAAS;QACT,WAAW;QAEX,YAAY;QACZ,mBAAmB;QACnB,sBAAsB;QACtB,kBAAkB;QAElB,UAAU;QACV,mBAAmB;QACnB,SAAS;QACT,iBAAiB;QACjB,SAAS;QACT,OAAO;QACP,UAAU;QACV,cAAc;QACd,mBAAmB;QAEnB,UAAU;QACV,QAAQ;QACR,OAAO;QACP,UAAU;QACV,SAAS;QACT,WAAW;QACX,QAAQ;IACV;IACA,IAAI;QACF,UAAU;QACV,WAAW;QACX,SAAS;QACT,aAAa;QACb,UAAU;QACV,SAAS;QACT,UAAU;QAEV,SAAS;QACT,SAAS;QACT,WAAW;QACX,cAAc;QACd,UAAU;QACV,SAAS;QACT,SAAS;QACT,WAAW;QAEX,YAAY;QACZ,mBAAmB;QACnB,sBAAsB;QACtB,kBAAkB;QAElB,UAAU;QACV,mBAAmB;QACnB,SAAS;QACT,iBAAiB;QACjB,SAAS;QACT,OAAO;QACP,UAAU;QACV,cAAc;QACd,mBAAmB;QAEnB,UAAU;QACV,QAAQ;QACR,OAAO;QACP,UAAU;QACV,SAAS;QACT,WAAW;QACX,QAAQ;IACV;AACF;AAEO,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,UAAU,iBAAiB,GAAG,IAAA,yKAAQ,EAAW;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,SAAS,CAAC,UAAU,QAAQ,UAAU,IAAI,GAAG;gBAC/C,2DAA2D;gBAC3D,iBAAiB;YACnB;YACA,WAAW;QACb;iCAAG,EAAE;IAEL,MAAM,cAAc,CAAC;QACnB,iBAAiB;QACjB,aAAa,OAAO,CAAC,YAAY;IACnC;IAEA,MAAM,IAAI,CAAC;QACT,OAAO,YAAY,CAAC,SAAS,CAAC,IAAI,IAAI;IACxC;IAEA,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAU;YAAa;QAAE;kBACrD;;;;;;AAGP;GA/BgB;KAAA;AAiCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///D:/Dev/obliga/lib/api.ts"],"sourcesContent":["\r\n// Config point for API base URL with fallback\r\n// NEXT_PUBLIC_API_BASE_URL can be set in .env.local\r\nconst BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3001';\r\n\r\nexport const api = {\r\n  async request(endpoint: string, options: RequestInit = {}) {\r\n    const token = typeof window !== 'undefined' ? localStorage.getItem('accessToken') : null;\r\n    \r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n      ...options.headers,\r\n    };\r\n\r\n    const response = await fetch(`${BASE_URL}${endpoint}`, {\r\n      ...options,\r\n      headers,\r\n    });\r\n\r\n    if (response.status === 401) {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('accessToken');\r\n        // Only redirect if not already on login page to avoid loops or redundant redirects\r\n        if (!window.location.pathname.includes('/login')) {\r\n           window.location.href = '/login';\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!response.ok) {\r\n       let errorMessage = `HTTP error! status: ${response.status}`;\r\n       try {\r\n          const errorData = await response.json();\r\n          if (errorData.error) {\r\n              errorMessage = errorData.error;\r\n          }\r\n       } catch (e) {\r\n          // If JSON parse fails, try to get text body\r\n          const textError = await response.text().catch(() => null);\r\n          if (textError) {\r\n              errorMessage = textError;\r\n          }\r\n       }\r\n       throw new Error(errorMessage);\r\n    }\r\n\r\n    if (response.status === 204) return null;\r\n\r\n    return response.json();\r\n  },\r\n\r\n  get(endpoint: string) {\r\n    return this.request(endpoint, { method: 'GET' });\r\n  },\r\n\r\n  post(endpoint: string, body: any) {\r\n    return this.request(endpoint, {\r\n      method: 'POST',\r\n      body: JSON.stringify(body),\r\n    });\r\n  },\r\n\r\n  put(endpoint: string, body: any) {\r\n    return this.request(endpoint, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(body),\r\n    });\r\n  },\r\n\r\n  delete(endpoint: string) {\r\n    return this.request(endpoint, { method: 'DELETE' });\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AAGiB;AAFjB,8CAA8C;AAC9C,oDAAoD;AACpD,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI;AAElD,MAAM,MAAM;IACjB,MAAM,SAAQ,QAAgB,EAAE,UAAuB,CAAC,CAAC;QACvD,MAAM,QAAQ,uCAAgC,aAAa,OAAO,CAAC,iBAAiB;QAEpF,MAAM,UAAU;YACd,gBAAgB;YAChB,GAAI,QAAQ;gBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;YAAC,IAAI,CAAC,CAAC;YACrD,GAAG,QAAQ,OAAO;QACpB;QAEA,MAAM,WAAW,MAAM,MAAM,GAAG,WAAW,UAAU,EAAE;YACrD,GAAG,OAAO;YACV;QACF;QAEA,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,wCAAmC;gBACjC,aAAa,UAAU,CAAC;gBACxB,mFAAmF;gBACnF,IAAI,CAAC,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW;oBAC/C,OAAO,QAAQ,CAAC,IAAI,GAAG;gBAC1B;YACF;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACf,IAAI,eAAe,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC3D,IAAI;gBACD,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,IAAI,UAAU,KAAK,EAAE;oBACjB,eAAe,UAAU,KAAK;gBAClC;YACH,EAAE,OAAO,GAAG;gBACT,4CAA4C;gBAC5C,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM;gBACpD,IAAI,WAAW;oBACX,eAAe;gBACnB;YACH;YACA,MAAM,IAAI,MAAM;QACnB;QAEA,IAAI,SAAS,MAAM,KAAK,KAAK,OAAO;QAEpC,OAAO,SAAS,IAAI;IACtB;IAEA,KAAI,QAAgB;QAClB,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU;YAAE,QAAQ;QAAM;IAChD;IAEA,MAAK,QAAgB,EAAE,IAAS;QAC9B,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU;YAC5B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;IAEA,KAAI,QAAgB,EAAE,IAAS;QAC7B,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU;YAC5B,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;IAEA,QAAO,QAAgB;QACrB,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU;YAAE,QAAQ;QAAS;IACnD;AACF"}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file:///D:/Dev/obliga/lib/toast-context.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { createContext, useContext, useState } from \"react\"\nimport { motion, AnimatePresence } from \"framer-motion\"\nimport { X, CheckCircle, AlertCircle, Info } from \"lucide-react\"\n\ntype ToastType = \"success\" | \"error\" | \"info\"\n\ninterface Toast {\n  id: string\n  message: string\n  type: ToastType\n}\n\ninterface ToastContextType {\n  toast: (message: string, type?: ToastType) => void\n}\n\nconst ToastContext = createContext<ToastContextType | undefined>(undefined)\n\nexport function ToastProvider({ children }: { children: React.ReactNode }) {\n  const [toasts, setToasts] = useState<Toast[]>([])\n\n  const toast = (message: string, type: ToastType = \"info\") => {\n    const id = Math.random().toString(36).substring(2, 9)\n    setToasts((prev) => [...prev, { id, message, type }])\n    \n    // Auto remove after 3 seconds\n    setTimeout(() => {\n        setToasts((prev) => prev.filter((t) => t.id !== id))\n    }, 3000)\n  }\n\n  const removeToast = (id: string) => {\n    setToasts((prev) => prev.filter((t) => t.id !== id))\n  }\n\n  return (\n    <ToastContext.Provider value={{ toast }}>\n      {children}\n      <div className=\"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none\">\n        <AnimatePresence>\n          {toasts.map((t) => (\n            <motion.div\n              key={t.id}\n              initial={{ opacity: 0, y: 20, scale: 0.9 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.9, transition: { duration: 0.2 } }}\n              layout\n              className=\"pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg bg-background border text-sm font-medium min-w-[300px]\"\n            >\n              {t.type === \"success\" && <CheckCircle className=\"h-5 w-5 text-green-500\" />}\n              {t.type === \"error\" && <AlertCircle className=\"h-5 w-5 text-red-500\" />}\n              {t.type === \"info\" && <Info className=\"h-5 w-5 text-blue-500\" />}\n              <span className=\"flex-1\">{t.message}</span>\n              <button onClick={() => removeToast(t.id)} className=\"text-muted-foreground hover:text-foreground\">\n                <X className=\"h-4 w-4\" />\n              </button>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n    </ToastContext.Provider>\n  )\n}\n\nexport const useToast = () => {\n  const context = useContext(ToastContext)\n  if (!context) throw new Error(\"useToast must be used within ToastProvider\")\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;;;AAJA;;;;AAkBA,MAAM,6BAAe,IAAA,8KAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAU,EAAE;IAEhD,MAAM,QAAQ,CAAC,SAAiB,OAAkB,MAAM;QACtD,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG;QACnD,UAAU,CAAC,OAAS;mBAAI;gBAAM;oBAAE;oBAAI;oBAAS;gBAAK;aAAE;QAEpD,8BAA8B;QAC9B,WAAW;YACP,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACpD,GAAG;IACL;IAEA,MAAM,cAAc,CAAC;QACnB,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAClD;IAEA,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;QAAM;;YACnC;0BACD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,+MAAe;8BACb,OAAO,GAAG,CAAC,CAAC,kBACX,6LAAC,uMAAM,CAAC,GAAG;4BAET,SAAS;gCAAE,SAAS;gCAAG,GAAG;gCAAI,OAAO;4BAAI;4BACzC,SAAS;gCAAE,SAAS;gCAAG,GAAG;gCAAG,OAAO;4BAAE;4BACtC,MAAM;gCAAE,SAAS;gCAAG,OAAO;gCAAK,YAAY;oCAAE,UAAU;gCAAI;4BAAE;4BAC9D,MAAM;4BACN,WAAU;;gCAET,EAAE,IAAI,KAAK,2BAAa,6LAAC,6OAAW;oCAAC,WAAU;;;;;;gCAC/C,EAAE,IAAI,KAAK,yBAAW,6LAAC,sOAAW;oCAAC,WAAU;;;;;;gCAC7C,EAAE,IAAI,KAAK,wBAAU,6LAAC,6MAAI;oCAAC,WAAU;;;;;;8CACtC,6LAAC;oCAAK,WAAU;8CAAU,EAAE,OAAO;;;;;;8CACnC,6LAAC;oCAAO,SAAS,IAAM,YAAY,EAAE,EAAE;oCAAG,WAAU;8CAClD,cAAA,6LAAC,oMAAC;wCAAC,WAAU;;;;;;;;;;;;2BAZV,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;AAoBvB;GA5CgB;KAAA;AA8CT,MAAM,WAAW;;IACtB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT;IAJa"}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///D:/Dev/obliga/lib/store-context.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from \"react\"\nimport { Role, Obligation, ObligationStatus, Client, Activity, User } from \"./types\"\nimport { api } from \"./api\"\nimport { useRouter } from \"next/navigation\"\nimport { useToast } from \"./toast-context\"\n\ninterface StoreContextType {\n  role: Role\n  user: User | null\n  obligations: Obligation[]\n  clients: Client[]\n  activities: Activity[]\n  loading: boolean\n  logout: () => void\n  updateObligationStatus: (id: string, status: ObligationStatus) => Promise<void>\n  refreshObligations: () => Promise<void>\n  addClient: (client: Client) => void\n  addActivity: (activity: Activity) => void\n}\n\nconst StoreContext = createContext<StoreContextType | undefined>(undefined)\n\nexport function StoreProvider({ children }: { children: ReactNode }) {\n  const router = useRouter()\n  const { toast } = useToast()\n  const [user, setUser] = useState<User | null>(null)\n  const [role, setRole] = useState<Role>(\"CLIENT\")\n  const [obligations, setObligations] = useState<Obligation[]>([])\n  const [clients, setClients] = useState<Client[]>([])\n  const [activities, setActivities] = useState<Activity[]>([])\n  const [loading, setLoading] = useState(true)\n\n  const fetchUser = async () => {\n    try {\n      const userData = await api.get(\"/auth/me\")\n      setUser({\n        id: userData.id,\n        name: userData.name,\n        email: userData.email,\n        avatar: \"https://github.com/shadcn.png\", // Mock avatar for now\n        role: userData.role,\n        workspaceName: userData.workspace?.name\n      })\n      setRole(userData.role)\n    } catch (e) {\n      console.error(\"Failed to fetch user\", e)\n      // toast(\"Failed to fetch user session\", \"error\")\n    }\n  }\n\n  const fetchObligations = async () => {\n    try {\n      const data = await api.get(\"/obligations\")\n      const mapped = data.map((o: any) => ({\n        id: o.id,\n        title: o.title,\n        client: o.client?.name || \"Unknown\",\n        clientId: o.clientId,\n        type: o.type,\n        dueDate: o.dueDate.split('T')[0],\n        status: o.status,\n        description: o.description\n      }))\n      setObligations(mapped)\n    } catch (e) {\n      console.error(\"Failed to fetch obligations\", e)\n    }\n  }\n\n  const fetchClients = async () => {\n    try {\n      const data = await api.get(\"/clients\")\n      const mapped = data.map((c: any) => ({\n        id: c.id,\n        name: c.name,\n        email: c.email,\n        logo: \"/file.svg\",\n        status: \"Active\"\n      }))\n      setClients(mapped)\n    } catch (e) {\n      console.error(\"Failed to fetch clients\", e)\n    }\n  }\n\n  // Initial load\n  useEffect(() => {\n    const init = async () => {\n      const token = localStorage.getItem(\"accessToken\")\n      if (token) {\n        await fetchUser()\n        await Promise.all([fetchObligations(), fetchClients()])\n      }\n      setLoading(false)\n    }\n    init()\n  }, [])\n\n  const logout = () => {\n    localStorage.removeItem(\"accessToken\")\n    // localStorage.removeItem(\"refreshToken\") // Removed for security\n    setUser(null)\n    setObligations([])\n    setClients([])\n    router.push(\"/login\")\n  }\n\n  const updateObligationStatus = async (id: string, status: ObligationStatus) => {\n    // Optimistic update\n    setObligations((prev) =>\n      prev.map((o) => (o.id === id ? { ...o, status } : o))\n    )\n\n    try {\n        let endpoint = \"\"\n        if (status === \"SUBMITTED\") endpoint = `/obligations/${id}/submit`\n        else if (status === \"APPROVED\") endpoint = `/obligations/${id}/approve`\n        else if (status === \"CHANGES_REQUESTED\") endpoint = `/obligations/${id}/request-changes`\n        \n        if (endpoint) {\n            await api.post(endpoint, {})\n            toast(\"Status updated successfully\", \"success\")\n        } \n        await fetchObligations() // Refresh to get exact server state\n    } catch (e) {\n        console.error(\"Update failed\", e)\n        toast(\"Failed to update status\", \"error\")\n        // Revert optimistic update (could improve this by storing prev state)\n        await fetchObligations()\n    }\n  }\n\n  const addClient = (client: Client) => {\n    setClients((prev) => [...prev, client])\n  }\n\n  const addActivity = (activity: Activity) => {\n    setActivities((prev) => [activity, ...prev])\n  }\n\n  return (\n    <StoreContext.Provider\n      value={{\n        role,\n        user,\n        obligations,\n        clients,\n        activities,\n        loading,\n        logout,\n        updateObligationStatus,\n        refreshObligations: fetchObligations,\n        addClient,\n        addActivity,\n      }}\n    >\n      {children}\n    </StoreContext.Provider>\n  )\n}\n\nexport function useStore() {\n  const context = useContext(StoreContext)\n  if (context === undefined) {\n    throw new Error(\"useStore must be used within a StoreProvider\")\n  }\n  return context\n}"],"names":[],"mappings":"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"}}]
}